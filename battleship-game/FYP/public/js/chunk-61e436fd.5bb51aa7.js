(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61e436fd"],{"0e22":function(t,s,e){},6235:function(t,s,e){},8363:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("Header"),e("h1",[t._v("Single Player Mode")]),e("Board"),e("Sideboard")],1)},r=[],a=e("0418"),n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"hidden-info"},[e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.ongoing,expression:"ongoing===0"}],staticClass:"setup"},[e("button",{attrs:{id:"start",disabled:!t.allShipsPlaced,title:t.allShipsPlaced?"Start new game":"Place your ships"},on:{click:t.startGame}},[t._v("New Game")]),e("button",{attrs:{id:"load",disabled:t.noGameFound,title:t.noGameFound?"No game found":"Load unfinished game"},on:{click:t.loadGame}},[t._v("Load Game")]),e("button",{attrs:{id:"rotate"},on:{click:t.rotateShips}},[t._v("Rotate ships")])]),void 0===t.player?e("h3",{ref:"placeships",attrs:{id:"info"}},[t._v("Place your ships")]):"user"===t.player?e("h3",{attrs:{id:"info"}},[t._v("Your turn")]):"computer"===t.player?e("h3",{attrs:{id:"info"}},[t._v("Computer's turn")]):"user"===t.winner?e("h3",{attrs:{id:"info"}},[t._v("You won!!")]):"computer"===t.winner?e("h3",{attrs:{id:"info"}},[t._v("Computer won!")]):t._e()]),e("div",{staticClass:"container"},[e("div",{ref:"display",staticClass:"grid-display"},[e("div",{ref:"destroyer",staticClass:"ship destroyer",attrs:{draggable:"true"}},[e("div",{staticClass:"start",attrs:{id:"destroyer-0"}}),e("div",{staticClass:"end",attrs:{id:"destroyer-1"}})]),e("div",{ref:"submarine",staticClass:"ship submarine",attrs:{draggable:"true"}},[e("div",{staticClass:"start",attrs:{id:"submarine-0"}}),e("div",{attrs:{id:"submarine-1"}}),e("div",{staticClass:"end",attrs:{id:"submarine-2"}})]),e("div",{ref:"cruiser",staticClass:"ship cruiser",attrs:{draggable:"true"}},[e("div",{staticClass:"start",attrs:{id:"cruiser-0"}}),e("div",{attrs:{id:"cruiser-1"}}),e("div",{staticClass:"end",attrs:{id:"cruiser-2"}})]),e("div",{ref:"battleship",staticClass:"ship battleship",attrs:{draggable:"true"}},[e("div",{staticClass:"start",attrs:{id:"battleship-0"}}),e("div",{attrs:{id:"battleship-1"}}),e("div",{attrs:{id:"battleship-2"}}),e("div",{staticClass:"end",attrs:{id:"battleship-3"}})]),e("div",{ref:"carrier",staticClass:"ship carrier",attrs:{draggable:"true"}},[e("div",{staticClass:"start",attrs:{id:"carrier-0"}}),e("div",{attrs:{id:"carrier-1"}}),e("div",{attrs:{id:"carrier-2"}}),e("div",{attrs:{id:"carrier-3"}}),e("div",{staticClass:"end",attrs:{id:"carrier-4"}})])])])])},o=[],h=e("2f62"),c={data(){return{player:void 0,winner:void 0,ongoing:0,allShipsPlaced:!1,noGameFound:!0}},mounted(){this.$root.$on("turnChange",t=>{this.player=t}),this.$root.$on("gameWon",t=>{this.player="",this.winner=t}),this.$refs.destroyer.addEventListener("mousedown",this.emit),this.$refs.battleship.addEventListener("mousedown",this.emit),this.$refs.carrier.addEventListener("mousedown",this.emit),this.$refs.cruiser.addEventListener("mousedown",this.emit),this.$refs.submarine.addEventListener("mousedown",this.emit),null!==localStorage.getItem("gameState")&&null!==JSON.parse(localStorage.getItem("gameState"))&&(this.noGameFound=!1)},methods:{...Object(h["b"])(["startGame"]),rotateShips(){this.$refs.destroyer.classList.toggle("destroyer-vertical"),this.$refs.battleship.classList.toggle("battleship-vertical"),this.$refs.carrier.classList.toggle("carrier-vertical"),this.$refs.cruiser.classList.toggle("cruiser-vertical"),this.$refs.submarine.classList.toggle("submarine-vertical")},startGame(){this.allShipsPlaced?(this.startGame,this.ongoing=1,this.$root.$emit("game-started")):(this.$refs.placeships.style.color="red",this.$refs.placeships.style.fontWeight="800",setTimeout(()=>{this.$refs.placeships.style.color="",this.$refs.placeships.style.fontWeight="700"},1e3))},loadGame(){this.ongoing=1,this.$root.$emit("game-loaded")},emit(t){this.$eventHub.$emit("dragged",t)}},created(){this.$eventHub.$on("all-ships-placed",()=>{this.allShipsPlaced=!0})},beforeDestroy(){this.$eventHub.$off("all-ships-placed")}},d=c,l=(e("f388"),e("2877")),u=Object(l["a"])(d,n,o,!1,null,"21011b0f",null),m=u.exports,p=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"container"},[e("div",{staticClass:"grid grid-user"},t._l(this.width*this.width,(function(t){return e("div",{key:t,ref:"userGrid",refInFor:!0,attrs:{id:"user"+(t-1)}})})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isGameStarted,expression:"isGameStarted"}],staticClass:"grid grid-computer"},t._l(this.width*this.width,(function(t){return e("div",{key:t,ref:"computerGrid",refInFor:!0,attrs:{id:"computer"+(t-1)}})})),0)])])},g=[],f={name:"Board",methods:{...Object(h["b"])(["endGame","saveGame"]),generate(t){var s,e,i;let r=Math.round(Math.random()),a=t.orientation[r];0===r&&(s=Math.abs(Math.floor(Math.random()*this.$refs.computerGrid.length-t.length)),e=a.slice(0,t.length-1).some(t=>(s+t)%this.width===this.width-1),i=a.slice(1).some(t=>(s+t)%this.width===0)),1===r&&(s=Math.abs(Math.floor(Math.random()*this.$refs.computerGrid.length-(t.length-1)*this.width)));const n=a.some(t=>this.$refs.computerGrid[s+t].classList.contains("taken"));n||e||i||this.checkIfAdjacentTaken(r,t,a,s)?this.generate(t):a.forEach(e=>{this.$refs.computerGrid[s+e].classList.add("taken",t.name),this.gameData.squaresContainingEnemyShips[t.name].push(s+e)})},checkIfAdjacentTaken(t,s,e,i){return 0===t?"0"==String(e[0]+i).slice(-1)?e[0]+i<10?e.some(t=>this.$refs.computerGrid[i+t+10].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+1].classList.contains("taken"):e[0]+i>89?e.some(t=>this.$refs.computerGrid[i+t-10].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+1].classList.contains("taken"):e.some(t=>this.$refs.computerGrid[i+t+10].classList.contains("taken"))||e.some(t=>this.$refs.computerGrid[i+t-10].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+1].classList.contains("taken"):"9"==String(e[s.length-1]+i).slice(-1)?e[0]+i<10?e.some(t=>this.$refs.computerGrid[i+t+10].classList.contains("taken"))||this.$refs.computerGrid[e[0]+i-1].classList.contains("taken"):e[0]+i>89?e.some(t=>this.$refs.computerGrid[i+t-10].classList.contains("taken"))||this.$refs.computerGrid[e[0]+i-1].classList.contains("taken"):e.some(t=>this.$refs.computerGrid[i+t+10].classList.contains("taken"))||e.some(t=>this.$refs.computerGrid[i+t-10].classList.contains("taken"))||this.$refs.computerGrid[e[0]+i-1].classList.contains("taken"):e[0]+i<10?e.some(t=>this.$refs.computerGrid[i+t+10].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+1].classList.contains("taken")||this.$refs.computerGrid[e[0]+i-1].classList.contains("taken"):e[0]+i>89?e.some(t=>this.$refs.computerGrid[i+t-10].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+1].classList.contains("taken")||this.$refs.computerGrid[e[0]+i-1].classList.contains("taken"):e.some(t=>this.$refs.computerGrid[i+t+10].classList.contains("taken"))||e.some(t=>this.$refs.computerGrid[i+t-10].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+1].classList.contains("taken")||this.$refs.computerGrid[e[0]+i-1].classList.contains("taken"):e[0]+i<10?"0"==String(e[0]+i).slice(-1)?e.some(t=>this.$refs.computerGrid[i+t+1].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+10].classList.contains("taken"):"9"==String(e[0]+i).slice(-1)?e.some(t=>this.$refs.computerGrid[i+t-1].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+10].classList.contains("taken"):e.some(t=>this.$refs.computerGrid[i+t+1].classList.contains("taken"))||e.some(t=>this.$refs.computerGrid[i+t-1].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+10].classList.contains("taken"):e[s.length-1]+i>89?"0"==String(e[0]+i).slice(-1)?e.some(t=>this.$refs.computerGrid[i+t+1].classList.contains("taken"))||this.$refs.computerGrid[e[0]+i-10].classList.contains("taken"):"9"==String(e[0]+i).slice(-1)?e.some(t=>this.$refs.computerGrid[i+t-1].classList.contains("taken"))||this.$refs.computerGrid[e[0]+i-10].classList.contains("taken"):e.some(t=>this.$refs.computerGrid[i+t+1].classList.contains("taken"))||e.some(t=>this.$refs.computerGrid[i+t-11].classList.contains("taken"))||this.$refs.computerGrid[e[0]+i-10].classList.contains("taken"):"0"==String(e[0]+i).slice(-1)?e.some(t=>this.$refs.computerGrid[i+t+1].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+10].classList.contains("taken")||this.$refs.computerGrid[e[0]+i-10].classList.contains("taken"):"9"==String(e[0]+i).slice(-1)?e.some(t=>this.$refs.computerGrid[i+t-1].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+10].classList.contains("taken")||this.$refs.computerGrid[e[0]+i-10].classList.contains("taken"):e.some(t=>this.$refs.computerGrid[i+t+1].classList.contains("taken"))||e.some(t=>this.$refs.computerGrid[i+t-1].classList.contains("taken"))||this.$refs.computerGrid[e[s.length-1]+i+10].classList.contains("taken")||this.$refs.computerGrid[e[0]+i-10].classList.contains("taken")},dragStart(t){t.target.classList.contains("destroyer")&&(this.selectedShipIndex=this.gameData.squaresContainingShips["destroyer"].indexOf(parseInt(t.target.id.slice(4))),this.selectedShipClass="destroyer",this.gameData.squaresContainingShips["destroyer"].forEach(t=>{this.$refs.userGrid[t].classList.remove("taken","destroyer")})),t.target.classList.contains("submarine")&&(this.selectedShipIndex=this.gameData.squaresContainingShips["submarine"].indexOf(parseInt(t.target.id.slice(4))),this.selectedShipClass="submarine",this.gameData.squaresContainingShips["submarine"].forEach(t=>{this.$refs.userGrid[t].classList.remove("taken","submarine")})),t.target.classList.contains("cruiser")&&(this.selectedShipIndex=this.gameData.squaresContainingShips["cruiser"].indexOf(parseInt(t.target.id.slice(4))),this.selectedShipClass="cruiser",this.gameData.squaresContainingShips["cruiser"].forEach(t=>{this.$refs.userGrid[t].classList.remove("taken","cruiser")})),t.target.classList.contains("battleship")&&(this.selectedShipIndex=this.gameData.squaresContainingShips["battleship"].indexOf(parseInt(t.target.id.slice(4))),this.selectedShipClass="battleship",this.gameData.squaresContainingShips["battleship"].forEach(t=>{this.$refs.userGrid[t].classList.remove("taken","battleship")})),t.target.classList.contains("carrier")&&(this.selectedShipIndex=this.gameData.squaresContainingShips["carrier"].indexOf(parseInt(t.target.id.slice(4))),this.selectedShipClass="carrier",this.gameData.squaresContainingShips["carrier"].forEach(t=>{this.$refs.userGrid[t].classList.remove("taken","carrier")}))},dragOver(t){t.preventDefault()},drop(t){t.preventDefault();let s=t.target.id.slice(4),e=parseInt(this.selectedShipIndex),i=this.selectedShipClass;var r;if("destroyer"==i&&(r=this.destroyerOrientation,this.length=2),"submarine"==i&&(r=this.submarineOrientation,this.length=3),"cruiser"==i&&(r=this.cruiserOrientation,this.length=3),"battleship"==i&&(r=this.battleshipOrientation,this.length=4),"carrier"==i&&(r=this.carrierOrientation,this.length=5),"horizontal"==r){let t=this.length-(e+1),r=this.length-(t+1),a=[];for(let e=0;e<this.length;e++)a.push(s-r+e);const n=a.every(t=>t<this.width*this.width&&t>=0);if(n){const e=a.some(t=>this.$refs.userGrid[t].classList.contains("taken")),r=a.slice(1).some(t=>"0"==String(t).slice(-1)),n=parseInt(s.slice(-1))+t>9;if(!r&&!n&&!e){let t=document.querySelector(".grid-display"),s="."+i;t.querySelector(s)?t.removeChild(this.draggedShip):this.gameData.squaresContainingShips[i].splice(0,this.length);let e=0;a.forEach(t=>{this.$refs.userGrid[t].classList.add("taken",i),this.gameData.squaresContainingShips[i].push(t),0==e&&this.$refs.userGrid[t].classList.add("horizontal-start"),e==this.length-1&&this.$refs.userGrid[t].classList.add("horizontal-end"),e++}),this.shipPlaced+=1,5===this.shipPlaced&&this.$eventHub.$emit("all-ships-placed")}}}else{let t=this.length-(e+1),r=this.length-(t+1),a=[];for(let e=0;e<this.length;e++)a.push(s-r*this.width+e*this.width);const n=a.every(t=>t<this.width*this.width&&t>=0);if(n){const t=a.some(t=>this.$refs.userGrid[t].classList.contains("taken"));if(!t){let t=document.querySelector(".grid-display"),s="."+i;t.querySelector(s)?t.removeChild(this.draggedShip):this.gameData.squaresContainingShips[i].splice(0,this.length);let e=0;a.forEach(t=>{this.$refs.userGrid[t].classList.add("taken",i),this.gameData.squaresContainingShips[i].push(t),0==e&&this.$refs.userGrid[t].classList.add("vertical-start"),e==this.length-1&&this.$refs.userGrid[t].classList.add("vertical-end"),e++}),this.shipPlaced+=1,5===this.shipPlaced&&this.$eventHub.$emit("all-ships-placed")}}}},updateAndSave(){this.gameData.computerBoard=[],this.gameData.userBoard=[],this.$refs.userGrid.forEach(t=>this.gameData.userBoard.push(t.classList)),this.$refs.computerGrid.forEach(t=>this.gameData.computerBoard.push(t.classList)),localStorage.setItem("gameState",JSON.stringify(this.gameData))},loadGame(){let t=JSON.parse(localStorage.getItem("gameState"));var s=0,e=0;this.gameData=t;for(let i=0;i<100;i++){while(0!=this.$refs.userGrid[i].classList.length)this.$refs.userGrid[i].classList.remove(this.$refs.userGrid[i].classList.item(0));while(0!=this.$refs.computerGrid[i].classList.length)this.$refs.computerGrid[i].classList.remove(this.$refs.computerGrid[i].classList.item(0))}t.userBoard.forEach(t=>{if(void 0!==t[0]){let e=0;while(void 0!==t[e])this.$refs.userGrid[s].classList.add(t[e]),e++}s++}),t.computerBoard.forEach(t=>{if(void 0!==t[0]){let s=0;while(void 0!==t[s])this.$refs.computerGrid[e].classList.add(t[s]),s++}e++});while(document.querySelector(".grid-display").hasChildNodes())document.querySelector(".grid-display").removeChild(document.querySelector(".grid-display").firstChild);this.isGameStarted=!0,this.playGame()},playGame(){this.gameData.username=this.user,this.isGameOver?this.$refs.computerGrid.forEach(t=>t.removeEventListener("click",this.revealSquare)):("user"===this.currentPlayer&&this.$refs.computerGrid.forEach(t=>t.addEventListener("click",this.revealSquare)),"computer"===this.currentPlayer&&(this.$refs.computerGrid.forEach(t=>t.removeEventListener("click",this.revealSquare)),setTimeout(this.computerTurn,1e3)),this.$root.$emit("turnChange",this.currentPlayer))},revealSquare(t){let s=t.target.classList;s.contains("boom")||s.contains("miss")||(this.gameData.moveCount+=1,s.contains("taken")?(this.updateScore("user",s),s.add("boom"),this.gameData.playerScore+=1,17===this.gameData.playerScore&&(this.$root.$emit("gameWon","user"),this.gameData.outcome="win",this.endGame(this.gameData),localStorage.removeItem("gameState"))):s.add("miss"),this.currentPlayer="computer",this.playGame())},updateScore(t,s){if("user"==t){if(s.contains("destroyer")){this.gameData.destroyerCount++;let t,s=this.gameData.squaresContainingEnemyShips["destroyer"];if(t=s[1]-s[0]==1?"horizontal":"vertical",2==this.gameData.destroyerCount)for(let e=0;e<2;e++)this.$refs.computerGrid[this.gameData.squaresContainingEnemyShips["destroyer"][e]].classList.add("sunk"),0==e&&"horizontal"==t?this.$refs.computerGrid[s[e]].classList.add("horizontal-start"):1==e&&"horizontal"==t?this.$refs.computerGrid[s[e]].classList.add("horizontal-end"):0==e&&"vertical"==t?this.$refs.computerGrid[s[e]].classList.add("vertical-start"):1==e&&"vertical"==t&&this.$refs.computerGrid[s[e]].classList.add("vertical-end")}if(s.contains("submarine")){this.gameData.submarineCount++;let t,s=this.gameData.squaresContainingEnemyShips["submarine"];if(t=s[1]-s[0]==1?"horizontal":"vertical",3==this.gameData.submarineCount)for(let e=0;e<3;e++)this.$refs.computerGrid[this.gameData.squaresContainingEnemyShips["submarine"][e]].classList.add("sunk"),0==e&&"horizontal"==t?this.$refs.computerGrid[s[e]].classList.add("horizontal-start"):2==e&&"horizontal"==t?this.$refs.computerGrid[s[e]].classList.add("horizontal-end"):0==e&&"vertical"==t?this.$refs.computerGrid[s[e]].classList.add("vertical-start"):2==e&&"vertical"==t&&this.$refs.computerGrid[s[e]].classList.add("vertical-end")}if(s.contains("cruiser")){this.gameData.cruiserCount++;let t,s=this.gameData.squaresContainingEnemyShips["cruiser"];if(t=s[1]-s[0]==1?"horizontal":"vertical",3==this.gameData.cruiserCount)for(let e=0;e<3;e++)this.$refs.computerGrid[this.gameData.squaresContainingEnemyShips["cruiser"][e]].classList.add("sunk"),0==e&&"horizontal"==t?this.$refs.computerGrid[s[e]].classList.add("horizontal-start"):2==e&&"horizontal"==t?this.$refs.computerGrid[s[e]].classList.add("horizontal-end"):0==e&&"vertical"==t?this.$refs.computerGrid[s[e]].classList.add("vertical-start"):2==e&&"vertical"==t&&this.$refs.computerGrid[s[e]].classList.add("vertical-end")}if(s.contains("battleship")){this.gameData.battleshipCount++;let t,s=this.gameData.squaresContainingEnemyShips["battleship"];if(t=s[1]-s[0]==1?"horizontal":"vertical",4==this.gameData.battleshipCount)for(let e=0;e<4;e++)this.$refs.computerGrid[this.gameData.squaresContainingEnemyShips["battleship"][e]].classList.add("sunk"),0==e&&"horizontal"==t?this.$refs.computerGrid[s[e]].classList.add("horizontal-start"):3==e&&"horizontal"==t?this.$refs.computerGrid[s[e]].classList.add("horizontal-end"):0==e&&"vertical"==t?this.$refs.computerGrid[s[e]].classList.add("vertical-start"):3==e&&"vertical"==t&&this.$refs.computerGrid[s[e]].classList.add("vertical-end")}if(s.contains("carrier")){this.gameData.carrierCount++;let t,s=this.gameData.squaresContainingEnemyShips["carrier"];if(t=s[1]-s[0]==1?"horizontal":"vertical",5==this.gameData.carrierCount)for(let e=0;e<5;e++)this.$refs.computerGrid[this.gameData.squaresContainingEnemyShips["carrier"][e]].classList.add("sunk"),0==e&&"horizontal"==t?this.$refs.computerGrid[s[e]].classList.add("horizontal-start"):4==e&&"horizontal"==t?this.$refs.computerGrid[s[e]].classList.add("horizontal-end"):0==e&&"vertical"==t?this.$refs.computerGrid[s[e]].classList.add("vertical-start"):4==e&&"vertical"==t&&this.$refs.computerGrid[s[e]].classList.add("vertical-end")}}else{if(s.contains("destroyer")&&(this.gameData.cpuDestroyerCount++,2==this.gameData.cpuDestroyerCount)){this.gameData.userShipsSunk.push(s[1]);for(let t=0;t<2;t++)this.$refs.userGrid[this.gameData.squaresContainingShips["destroyer"][t]].classList.add("sunk")}if(s.contains("submarine")&&(this.gameData.cpuSubmarineCount++,3==this.gameData.cpuSubmarineCount)){this.gameData.userShipsSunk.push(s[1]);for(let t=0;t<3;t++)this.$refs.userGrid[this.gameData.squaresContainingShips["submarine"][t]].classList.add("sunk")}if(s.contains("cruiser")&&(this.gameData.cpuCruiserCount++,3==this.gameData.cpuCruiserCount)){this.gameData.userShipsSunk.push(s[1]);for(let t=0;t<3;t++)this.$refs.userGrid[this.gameData.squaresContainingShips["cruiser"][t]].classList.add("sunk")}if(s.contains("battleship")&&(this.gameData.cpuBattleshipCount++,4==this.gameData.cpuBattleshipCount)){this.gameData.userShipsSunk.push(s[1]);for(let t=0;t<4;t++)this.$refs.userGrid[this.gameData.squaresContainingShips["battleship"][t]].classList.add("sunk")}if(s.contains("carrier")&&(this.gameData.cpuCarrierCount++,5==this.gameData.cpuCarrierCount)){this.gameData.userShipsSunk.push(s[1]);for(let t=0;t<5;t++)this.$refs.userGrid[this.gameData.squaresContainingShips["carrier"][t]].classList.add("sunk")}}},computeAdjacentSquares(t){return"0"==String(t).slice(-1)?0==t?[1,10]:90==t?[80,91]:[t-10,t+1,t+10]:"9"==String(t).slice(-1)?9==t?[8,19]:99==t?[98,89]:[t-10,t-1,t+10]:t<10?[t-1,t+1,t+10]:t>89?[t-1,t+1,t-10]:[t-1,t+1,t-10,t+10]},wrongDeducedOrientation(t,s){return"horizontal"==s?[Math.min(...t)-10,Math.min(...t)+10,Math.max(...t)-10,Math.max(...t)+10]:[Math.min(...t)-1,Math.min(...t)+1,Math.max(...t)-1,Math.max(...t)+1]},hunt(){var t,s=this.computerMemory.previousIndexesHit;1==s.length?t=this.computeAdjacentSquares(s[0]):2==s.length?s[1]==s[0]-1||s[1]==s[0]+1?(this.computerMemory.deducedOrientation="horizontal",t=[Math.min(...s)-1,Math.max(...s)+1]):(this.computerMemory.deducedOrientation="vertical",t=[Math.min(...s)-10,Math.max(...s)+10]):t=(s.length,"horizontal"==this.computerMemory.deducedOrientation?[Math.min(...s)-1,Math.max(...s)+1]:[Math.min(...s)-10,Math.max(...s)+10]),t=t.filter(t=>t<=99&&t>=0);var e=t.every(t=>this.$refs.userGrid[t].classList.contains("miss")||this.$refs.userGrid[t].classList.contains("boom"));return e&&(t=this.wrongDeducedOrientation(s,this.computerMemory.deducedOrientation)),t[Math.floor(Math.random()*t.length)]},computerTurn(){var t;t=0!=this.computerMemory.previousIndexesHit.length?this.hunt():this.checkerboardIndex[Math.floor(Math.random()*this.checkerboardIndex.length)];let s=this.$refs.userGrid[t].classList;if(s.contains("boom")||s.contains("miss"))this.computerTurn();else{if(s.contains("taken")){this.computerMemory.previousTurnHit=!0,this.computerMemory.previousShipHit.includes(s)||this.computerMemory.previousShipHit.push(s[1]),this.computerMemory.previousIndexesHit.push(t);var e=this.gameData.squaresContainingShips[s[1]];let r=this.computerMemory.previousIndexesHit.length>=e.length&&e.every(t=>this.computerMemory.previousIndexesHit.includes(t));if(r){this.computerMemory.previousShipSunk=!0;var i=this.computerMemory.previousShipHit.indexOf(s[1]);this.computerMemory.previousShipHit.splice(i,1),this.gameData.squaresContainingShips[s[1]].forEach(t=>{console.log(this.computerMemory.previousIndexesHit),this.computerMemory.previousIndexesHit=this.computerMemory.previousIndexesHit.filter(s=>s!==t),console.log(this.computerMemory.previousIndexesHit)}),0==this.computerMemory.previousIndexHit&&(this.computerMemory.previousTurnHit=!1)}else this.computerMemory.previousShipSunk=!1;this.updateScore("cpu",s),s.add("boom"),this.gameData.cpuScore+=1,17===this.gameData.cpuScore&&(this.$root.$emit("gameWon","computer"),this.gameData.outcome="lose",this.endGame(this.gameData),localStorage.removeItem("gameState"))}else s.add("miss"),"true"==this.computerMemory.previousShipSunk&&(this.computerMemory.previousTurnHit=!1);this.updateAndSave(),this.currentPlayer="user",this.playGame()}}},mounted(){this.$refs.userGrid.forEach(t=>t.addEventListener("dragstart",this.dragStart)),this.$refs.userGrid.forEach(t=>t.addEventListener("dragover",this.dragOver)),this.$refs.userGrid.forEach(t=>t.addEventListener("drop",this.drop)),this.$refs.userGrid.forEach(t=>t.addEventListener("dragend",this.dragEnd)),this.$root.$on("game-started",()=>{for(let t=0;t<this.shipArray.length;t++)this.generate(this.shipArray[t]);this.$refs.userGrid.forEach(t=>t.removeEventListener("dragover",this.dragOver)),this.$refs.userGrid.forEach(t=>t.removeEventListener("dragstart",this.dragStart)),this.$refs.userGrid.forEach(t=>t.removeEventListener("drop",this.drop)),this.$refs.userGrid.forEach(t=>t.removeEventListener("dragend",this.dragEnd)),this.isGameStarted=!0,this.playGame()}),this.$root.$on("game-loaded",()=>{this.$refs.userGrid.forEach(t=>t.removeEventListener("dragover",this.dragOver)),this.$refs.userGrid.forEach(t=>t.removeEventListener("dragstart",this.dragStart)),this.$refs.userGrid.forEach(t=>t.removeEventListener("drop",this.drop)),this.$refs.userGrid.forEach(t=>t.removeEventListener("dragend",this.dragEnd)),this.loadGame()})},created(){this.width=10,this.shipArray=[{name:"destroyer",length:2,orientation:[[0,1],[0,this.width]]},{name:"submarine",length:3,orientation:[[0,1,2],[0,this.width,2*this.width]]},{name:"cruiser",length:3,orientation:[[0,1,2],[0,this.width,2*this.width]]},{name:"battleship",length:4,orientation:[[0,1,2,3],[0,this.width,2*this.width,3*this.width]]},{name:"carrier",length:5,orientation:[[0,1,2,3,4],[0,this.width,2*this.width,3*this.width,4*this.width]]}],this.ships=void 0,this.$eventHub.$on("dragged",t=>{this.selectedShipClass=t.target.id.slice(0,-2),this.selectedShipIndex=t.target.id.slice(-1),this.draggedShip=t.target.parentNode,this.draggedShip.classList.contains(this.selectedShipClass+"-vertical")?("destroyer"==this.selectedShipClass&&(this.destroyerOrientation="vertical"),"submarine"==this.selectedShipClass&&(this.submarineOrientation="vertical"),"cruiser"==this.selectedShipClass&&(this.cruiserOrientation="vertical"),"battleship"==this.selectedShipClass&&(this.battleshipOrientation="vertical"),"carrier"==this.selectedShipClass&&(this.carrierOrientation="vertical")):("destroyer"==this.selectedShipClass&&(this.destroyerOrientation="horizontal"),"submarine"==this.selectedShipClass&&(this.submarineOrientation="horizontal"),"cruiser"==this.selectedShipClass&&(this.cruiserOrientation="horizontal"),"battleship"==this.selectedShipClass&&(this.battleshipOrientation="horizontal"),"carrier"==this.selectedShipClass&&(this.carrierOrientation="horizontal"))})},beforeDestroy(){this.$eventHub.$off("dragged")},data(){return{computerMemory:{previousTurnHit:!1,previousShipSunk:!0,previousShipHit:[],deducedOrientation:"",previousIndexesHit:[],possibleSquares:[]},checkerboardIndex:[0,2,4,6,8,11,13,15,17,19,20,22,24,26,28,31,33,35,37,39,40,42,44,46,48,51,53,55,57,59,60,62,64,66,68,71,73,75,77,79,80,82,84,86,88,91,93,95,97,99],length:0,gameData:{username:"",outcome:"",moveCount:0,userBoard:[],computerBoard:[],squaresContainingShips:{destroyer:[],submarine:[],cruiser:[],battleship:[],carrier:[]},squaresContainingEnemyShips:{destroyer:[],submarine:[],cruiser:[],battleship:[],carrier:[]},userShipsSunk:[],computerShipsSunk:[],destroyerCount:0,submarineCount:0,cruiserCount:0,battleshipCount:0,carrierCount:0,cpuDestroyerCount:0,cpuSubmarineCount:0,cpuCruiserCount:0,cpuBattleshipCount:0,cpuCarrierCount:0,playerScore:0,cpuScore:0},destroyerOrientation:"horizontal",submarineOrientation:"horizontal",cruiserOrientation:"horizontal",battleshipOrientation:"horizontal",carrierOrientation:"horizontal",draggedShip:void 0,selectedShipIndex:void 0,selectedShipClass:void 0,currentPlayer:"user",shipPlaced:0,isGameStarted:!1}},computed:{...Object(h["c"])(["isGameOver","user"])}},v=f,$=(e("f80c"),Object(l["a"])(v,p,g,!1,null,"6b79385d",null)),S=$.exports,G={components:{Header:a["a"],Board:S,Sideboard:m}},L=G,y=Object(l["a"])(L,i,r,!1,null,null,null);s["default"]=y.exports},f388:function(t,s,e){"use strict";e("0e22")},f80c:function(t,s,e){"use strict";e("6235")}}]);
//# sourceMappingURL=chunk-61e436fd.5bb51aa7.js.map